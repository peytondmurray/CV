\documentclass[10pt,letterpaper]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{lmodern}
\usepackage{hyperref}
\usepackage{xcolor}
\usepackage{ifthen}
\usepackage{longtable}
\usepackage{tabu}
\usepackage{changepage}
\usepackage{enumitem}
\usepackage[
    %backend=biber,
    sorting=ydnt,
    style=nature,
    url=false,
    doi=true
]{biblatex}

% To load the sweet icons in the fontawesome and academicicons package is a massive hassle. If you compile with pdflatex, fontawesome doesn't work but academicicons does. If you compile with xelatex, the Font Awesome font isn't found. I think this can be fixed by modifying the latex fontawesome.sty file to point it directly at the ttf or otf font file you want to use, like this:

% \usepackage{fontspec}
% \defaultfontfeatures{Path = /usr/local/texlive/2013/texmf-dist/fonts/opentype/public/fontawesome/ }

% There is an easier alternative, give in https://tex.stackexchange.com/questions/132888/fontawesome-font-not-found: just add the lines

% \usepackage{fontspec}
% \defaultfontfeatures{Extension = .otf}

% so that xelatex somehow finds the correct font file. This requires adding the fontspec package to get the \defaultfontfeatures command. Disgusting bodge.t


\usepackage{fontspec}
\defaultfontfeatures{Extension = .otf}
\usepackage{fontawesome}
\usepackage{academicons}
\usepackage[left=1cm,right=1cm,top=1cm,bottom=1cm]{geometry}
\hypersetup{
    colorlinks,
    linkcolor={red!50!black},
    citecolor={blue!50!black},
    urlcolor={blue!80!black}
    }
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% !TEX TS-program = lualatex

\DeclareFieldFormat[article]{title}{\textbf{#1}}
% \DeclareFieldFormat{labelnumberwidth}{}
% \setlength{\biblabelsep}{0pt}
\definecolor{darkblue}{HTML}{2052be}
\pagenumbering{gobble}
%%%%%%%%%%
% Configure column spacing
%%%%%%%%%%
\newcolumntype{t}{>{\hsize=0.5}}
\newcolumntype{b}{X}
\newcolumntype{s}{>{\hsize=.5\hsize}X}
\bibliography{ref}

\newcommand{\coll}{1.2}
\newcommand{\colr}{8}

\newcommand{\ind}[1]{
    \begin{adjustwidth}{0.5cm}{0.5cm}
        #1
    \end{adjustwidth}
}

\newcommand{\indsp}{
    \phantom{\hspace{0.5cm}}
}

\renewcommand{\hline}{
    \vskip\medskipamount % or other desired dimension
    \leaders\vrule width \textwidth\vskip0.4pt % or other desired thickness
    \vskip\medskipamount % ditto
    \nointerlineskip
}

\newcommand{\minipagelr}[4]{
    \noindent
    \begin{minipage}[t]{#1\textwidth}
        \begin{flushleft}
            #3
        \end{flushleft}
    \end{minipage}\hfill
    \begin{minipage}[t]{#2\textwidth}
        \begin{flushright}
            #4
        \end{flushright}
    \end{minipage}
}


% \newcommand{\newsection}[1]{\vspace{0.5cm}{\noindent\large\textbf{#1}}\hline}
\newcommand{\bighref}[2]{\href{#1}{\color{darkblue}\LARGE{#2}}}

\newcommand{\iconlinks}{
    \bighref{https://www.linkedin.com/in/peyton-murray-b5975031/}{\faLinkedinSquare \:}
    \bighref{https://github.com/peytondmurray}{\faGithubSquare \:}
    \bighref{https://scholar.google.com/citations?user=NXE8TDYAAAAJ\&hl=en}{\aiGoogleScholarSquare \;}
    \bighref{https://orcid.org/0000-0003-0389-0611}{\aiOrcidSquare \;}
    \bighref{https://researchgate.net/profile/Peyton_Murray}{\aiResearchGateSquare \;}
    \bighref{https://mendeley.com/profiles/peyton-murray}{\aiMendeleySquare \;}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Configuration
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\contact}{
    \vspace{-0.5cm}
    \begin{longtabu} to \textwidth{X[1,l] X[1,c] X[1,r]}
        Tel: +1 408 761 9078 & \href{https://peytondmurray.github.io}{peytondmurray.github.io} & \href{mailto:peynmurray@gmail.com}{peynmurray@gmail.com}
    \end{longtabu}
}

\newcommand{\header}[1]{
    {\LARGE\textbf{#1}} \hfill \iconlinks
    \hline
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Experience
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\expvoltaiq}{
    \textbf{Voltaiq}, Berkeley, CA \hfill Oct 2019 $-$ Present \newline
    \indsp \emph{Software Engineer} \newline
    \vspace{-2\topsep}
    \begin{itemize}[leftmargin=1cm]
        \item Developed and deployed bespoke, modern, and production-quality data analysis and visualization tools to provide quantitative insight into battery performance for some of the world's largest battery manufacturers using Django (with Django REST Framework), Plotly.js, and React.
    \end{itemize}
}

\newcommand{\exptampere}{
    \textbf{Computational Physics Laboratory, Tampere University}, Finland \hfill Jan 2019 $-$ Aug 2019 \newline
    \indsp \emph{Postdoctoral Researcher} \newline
    \indsp Advisor: Lasse Laurson \newline
    \vspace{-2\topsep}
    \begin{itemize}[leftmargin=1cm]
        \item Simulated nanoscale magnetic materials on the \href{https://www.csc.fi}{CSC's} Taito-GPU supercluster using a combination of open source software and in-house code (Go, CUDA, and Python). Numerical calculations of domain wall motion were compared to an analytic model \cite{Skaugen2019}.
    \end{itemize}
}

\newcommand{\expucdavis}{
    \textbf{Department of Physics, University of California, Davis} \hfill 2012 $-$ 2018 \newline
    \indsp \emph{Graduate Student Researcher} \newline
    \indsp Advisor: Kai Liu \newline
    \vspace{-2\topsep}
    \begin{itemize}[leftmargin=1cm]
        \item Developed \href{https://github.com/peytondmurray/PyFORC}{PyFORC}, a suite of open source tools for analyzing and visualizing magnetic measurements using the First-Order Reversal-Curves (FORC) technique (Python).
        \item Streamlined the Liu group's material analysis pipeline by developing \href{https://github.com/peytondmurray/tarmac}{tarmac}, a Python library for quickly visualizing Markov-chain monte carlo (MCMC) samples. This library makes it simple to identify correlations between parameters in a statistical model and evaluate convergence during fitting.
        \item Fabricated and characterized a wide range of nanoscale magnetic materials, including nanoparticles, thin films, single crystals, and patterned nanostructures using a variety of cutting-edge techniques. Programmed data acquisition and instrument control software for crucial laboratory equipment.
    \end{itemize}
}

\newcommand{\explbl}{
    \textbf{Physics Division, Lawrence Berkeley National Laboratory}, Berkeley, CA \hfill 2011 $-$ 2012 \newline
    \indsp \emph{Junior Specialist}, \href{https://atlas.cern/}{ATLAS Experiment} \newline
    \indsp Principal Investigator: Maurice Garcia-Sciveres \newline
    \vspace{-2\topsep}
    \begin{itemize}[leftmargin=1cm]
        \item Developed system control software for an integrated circuit tester (C++ with Qt GUI; version control with SVN), allowing for automated testing of hundreds of chips at a time, greatly increasing throughput. Chips which passed tests \href{https://atlas.cern/updates/atlas-news/new-sub-detector-atlas}{were installed} as part of the Insertable B-Layer system at the LHC in 2014, enabling continued studies of the Higgs boson \cite{Collaboration2012}.
    \end{itemize}
}

\newcommand{\expalfalfa}{
    \textbf{Physics Department, Saint Mary's College of California}, Moraga \hfill 2010 $-$ 2011 \newline
    \indsp \emph{Research Assistant}, \href{http://egg.astro.cornell.edu/index.php/}{ALFALFA Collaboration} \newline
    \indsp Advisor: Ron Olowin \newline
    \vspace{-2\topsep}
    \begin{itemize}[leftmargin=1cm]
        \item Classified galactic and extragalactic astronomical observations as part of the Arecibo Legacy Fast-ALFA (ALFALFA) project, an international collaboration of astronomers based at the \href{https://naic.edu/ao/landing}{Arecibo Radio Observatory} in Puerto Rico.
    \end{itemize}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Document start
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\nocite{*}
\header{Peyton D. Murray}
\contact

\vspace{-0.5cm}
\begin{longtabu} to \textwidth{X[\coll] X[\colr]}
    \textbf{Education} & University of California, Davis \hfill 2012 $-$ 2018 \newline
    \indsp {Ph. D. Physics: Dec 2018} \newline
    \indsp {M. S. Physics: Dec 2013} \\
    & \\
    & Saint Mary's College of California, Moraga \hfill 2007 $-$ 2011 \newline
    \indsp {B. S. Physics, Minor: Mathematics, \emph{summa cum laude} (GPA: 3.873)}
\end{longtabu}

\vspace{-0.5cm}
\begin{longtabu} to \textwidth{X[\coll] X[\colr]}
    \textbf{Computing} & Python (proficient), C++ (intermediate), Go (intermediate), Javascript (intermediate), CUDA (intermediate). Git, Python scientific/data vis stack (scipy [contributor], numpy, matplotlib, ...). Web development with Django (and Django REST), React+Redux, AngularJS.
\end{longtabu}

\vspace{-0.5cm}
\begin{longtabu} to \textwidth{X[\coll] X[\colr]}
    \textbf{Skills} & Agile development, Simulations, Data Analysis, Statistics, Data Visualization, Linux, HPC (slurm), Distributed Computing, VTK, Jekyll.
\end{longtabu}

\vspace{-0.5cm}
\begin{longtabu} to \textwidth{X[\coll] X[\colr]}
    \textbf{Research \newline\& Experience} & \expvoltaiq \\
    & \exptampere \\
    & \expucdavis \\
    & \explbl \\
    & \expalfalfa
\end{longtabu}

\vspace{-0.5cm}
\begin{longtabu} to \textwidth{X[\coll] X[\colr]}
    \textbf{Teaching} & \emph{Teaching Assistant}, \textbf{Dept. of Physics, University of California, Davis} \hfill 2012 $-$ 2016 \\
    & \emph{Student Tutor and Live-In Mentor}, \textbf{Physics Dept., St. Mary's College of California} \hfill 2010 $-$ 2011
\end{longtabu}

\centering\emph{Publications, selected conferences, and laboratory skills are listed on the extended CV \href{https://github.com/peytondmurray/CV/raw/master/peyton_murray_cv.pdf}{on my website}.}



\end{document}
